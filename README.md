# SiteManager Package

Laravelìš© ì™„ì „í•œ ì‚¬ì´íŠ¸ ê´€ë¦¬ íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ, ê²Œì‹œíŒ ì‹œìŠ¤í…œ, íšŒì› ê´€ë¦¬, ë©”ë‰´ ê´€ë¦¬ ë“±ì˜ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

- [ê¸°ëŠ¥](#ê¸°ëŠ¥)
- [ìš”êµ¬ì‚¬í•­](#ìš”êµ¬ì‚¬í•­)
- [ì„¤ì¹˜ë°©ë²•](#ì„¤ì¹˜ë°©ë²•)
- [ì„¤ì •](#ì„¤ì •)
- [ì‚¬ìš©ë²•](#ì‚¬ìš©ë²•)
- [ì»¤ìŠ¤í„°ë§ˆì´ì§•](#ì»¤ìŠ¤í„°ë§ˆì´ì§•)
- [ì—…ë°ì´íŠ¸](#ì—…ë°ì´íŠ¸)

## ìš”êµ¬ì‚¬í•­

- PHP ^8.1
- Laravel ^10.0|^11.0|^12.0
- MySQL ë˜ëŠ” PostgreSQL ë˜ëŠ” SQLite
- Composer

## ê¸°ëŠ¥

### ê´€ë¦¬ì ê¸°ëŠ¥
- âœ… **ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ** - ì‚¬ì´íŠ¸ í†µê³„ ë° ê´€ë¦¬
- âœ… **íšŒì› ê´€ë¦¬** - íšŒì› ìƒì„±, ìˆ˜ì •, ì‚­ì œ, ìƒíƒœ ê´€ë¦¬
- âœ… **ê·¸ë£¹ ê´€ë¦¬** - íšŒì› ê·¸ë£¹ ê´€ë¦¬ ë° ê¶Œí•œ ì„¤ì •
- âœ… **ë©”ë‰´ ê´€ë¦¬** - ê³„ì¸µí˜• ë©”ë‰´ êµ¬ì¡° ê´€ë¦¬
- âœ… **ê²Œì‹œíŒ ê´€ë¦¬** - ê²Œì‹œíŒ ìƒì„±, ì„¤ì •, ê´€ë¦¬
- âœ… **ì„¤ì • ê´€ë¦¬** - ì‹œìŠ¤í…œ ì„¤ì • ê´€ë¦¬

### ê²Œì‹œíŒ ê¸°ëŠ¥
- âœ… **ê²Œì‹œíŒ ì‹œìŠ¤í…œ** - ë‹¤ì¤‘ ê²Œì‹œíŒ ì§€ì›
- âœ… **ì—ë””í„° í†µí•©** - CKEditor5 ë˜ëŠ” ê¸°ë³¸ ì—ë””í„°
- âœ… **íŒŒì¼ ì—…ë¡œë“œ** - ì´ë¯¸ì§€ ë° ì²¨ë¶€íŒŒì¼ ì—…ë¡œë“œ
- âœ… **ëŒ“ê¸€ ì‹œìŠ¤í…œ** - ê³„ì¸µí˜• ëŒ“ê¸€ ë° ëŒ€ëŒ“ê¸€
- âœ… **ì¹´í…Œê³ ë¦¬** - ê²Œì‹œíŒë³„ ì¹´í…Œê³ ë¦¬ ê´€ë¦¬
- âœ… **íƒœê·¸ ì‹œìŠ¤í…œ** - ê²Œì‹œê¸€ íƒœê·¸ ê¸°ëŠ¥
- âœ… **ê¶Œí•œ ê´€ë¦¬** - ë©”ë‰´ ê¸°ë°˜ ê¶Œí•œ ì‹œìŠ¤í…œ

### íšŒì› ê¸°ëŠ¥
- âœ… **ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ** - ì‚¬ìš©ì ì¸ì¦
- âœ… **í”„ë¡œí•„ ê´€ë¦¬** - ê°œì¸ì •ë³´ ìˆ˜ì •
- âœ… **ë¹„ë°€ë²ˆí˜¸ ë³€ê²½** - ë³´ì•ˆ ê´€ë¦¬
- âœ… **ê·¸ë£¹ ì°¸ì—¬** - íšŒì› ê·¸ë£¹ ê´€ë¦¬

### ì•„í‚¤í…ì²˜ íŒ¨í„´
- âœ… **Repository Pattern** - ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ ë¶„ë¦¬
- âœ… **Service Layer** - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìº¡ìŠí™”
- âœ… **Console Commands** - ì„¤ì¹˜ ë° ê´€ë¦¬ ëª…ë ¹ì–´
- âœ… **View Components** - ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë·° ì»´í¬ë„ŒíŠ¸

## ì„¤ì¹˜ë°©ë²•

### ğŸ“¦ ë°©ë²• 1: Private Git Server (ê¶Œì¥)

```bash
# 1. ìƒˆ Laravel í”„ë¡œì íŠ¸ ìƒì„±
composer create-project laravel/laravel your-project-name

# 2. í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd your-project-name

# 3. Git ì €ì¥ì†Œ ë“±ë¡
composer config repositories.sitemanager vcs ssh://miles@server/home/miles/git/sitemanager.git

# 4. íŒ¨í‚¤ì§€ ì„¤ì¹˜
composer require d3141cgit/sitemanager:dev-main

# 5. ì„¤ì • íŒŒì¼ ë° ìì› ë°œí–‰
php artisan vendor:publish --provider="SiteManager\SiteManagerServiceProvider"

# 6. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
php artisan migrate

# 7. ê´€ë¦¬ì ê³„ì • ìƒì„±
php artisan sitemanager:admin
```

### ğŸ“¦ ë°©ë²• 2: ë¡œì»¬ íŒ¨í‚¤ì§€ (ê°œë°œìš©)

```bash
# 1. composer.jsonì— ë¡œì»¬ íŒ¨í‚¤ì§€ ë“±ë¡
{
    "repositories": [
        {
            "type": "path",
            "url": "/path/to/packages/sitemanager"
        }
    ],
    "require": {
        "d3141cgit/sitemanager": "*"
    }
}

# 2. íŒ¨í‚¤ì§€ ì„¤ì¹˜
composer require d3141cgit/sitemanager --prefer-source

# 3. ë‚˜ë¨¸ì§€ ì„¤ì¹˜ ê³¼ì •ì€ ë™ì¼
```

### ğŸš€ ë¹ ë¥¸ ì„¤ì¹˜ (ì¼ê´„ ì„¤ì¹˜)

```bash
# ì„¤ì •, ë§ˆì´ê·¸ë ˆì´ì…˜, ìì› ë°œí–‰ì„ í•œ ë²ˆì—
php artisan sitemanager:install

# ê´€ë¦¬ì ê³„ì • ìƒì„± (ëŒ€í™”í˜•)
php artisan sitemanager:admin

# ë˜ëŠ” ì˜µì…˜ìœ¼ë¡œ ì§ì ‘ ìƒì„±
php artisan sitemanager:admin --name="Admin" --email="admin@example.com" --password="password123"
```

### ğŸ“ ë°œí–‰ë˜ëŠ” íŒŒì¼ë“¤

ì„¤ì¹˜ ì‹œ ë‹¤ìŒ íŒŒì¼ë“¤ì´ í”„ë¡œì íŠ¸ì— ë³µì‚¬ë©ë‹ˆë‹¤:

**ì„¤ì • íŒŒì¼:**
- `config/sitemanager.php` - ë©”ì¸ ì„¤ì •
- `config/member.php` - íšŒì› ê´€ë ¨ ì„¤ì •  
- `config/menu.php` - ë©”ë‰´ ê´€ë ¨ ì„¤ì •
- `config/permissions.php` - ê¶Œí•œ ê´€ë ¨ ì„¤ì •

**ë·° íŒŒì¼:**
- `resources/views/vendor/sitemanager/` - ëª¨ë“  ë·° í…œí”Œë¦¿

**CSS/JS íŒŒì¼:**
- `resources/css/vendor/sitemanager/` - CSS íŒŒì¼ë“¤
- `resources/js/vendor/sitemanager/` - JavaScript íŒŒì¼ë“¤

**DB ë§ˆì´ê·¸ë ˆì´ì…˜:**
- `database/migrations/` - ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

**Public ìì›:**
- `public/vendor/sitemanager/` - ì´ë¯¸ì§€, ì•„ì´ì½˜ ë“±

## ì„¤ì •

### config/sitemanager.php

```php
return [
    'features' => [
        'admin' => true,
        'boards' => true,
        'menus' => true,
        'members' => true,
        'groups' => true,
        'assets' => true,
        'comments' => true,
        'editor' => true,
    ],
    
    'permissions' => [
        'admin_level' => 200,
        'board_level' => 32,
        'member_level' => 1,
    ],
    
    'board' => [
        'default_skin' => 'default',
        'allow_file_upload' => true,
        'max_file_size' => 10 * 1024 * 1024, // 10MB
        'editor' => [
            'type' => 'ckeditor5',
            'image_upload' => true,
        ],
    ],
];
```

## ì‚¬ìš©ë²•

### Console Commands

```bash
# íŒ¨í‚¤ì§€ ì„¤ì¹˜ (ì„¤ì • ë°œí–‰, ë§ˆì´ê·¸ë ˆì´ì…˜, ìì› ë³µì‚¬ ì¼ê´„ ì²˜ë¦¬)
php artisan sitemanager:install

# ê´€ë¦¬ì ê³„ì • ìƒì„± (ëŒ€í™”í˜•)
php artisan sitemanager:admin

# ê´€ë¦¬ì ê³„ì • ìƒì„± (ì˜µì…˜ ì‚¬ìš©)
php artisan sitemanager:admin --name="Admin" --email="admin@test.com" --password="password123"

# S3 ì—°ê²° í…ŒìŠ¤íŠ¸
php artisan sitemanager:test-s3

# S3 ì„¤ì • í™•ì¸
php artisan sitemanager:check-s3

# ì´ë¯¸ì§€ë¥¼ S3ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜
php artisan sitemanager:migrate-images-s3
```

### ì ‘ì† ë° ì‚¬ìš©

ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ ë‹¤ìŒ ì£¼ì†Œë¡œ ì ‘ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- **ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ**: `http://yoursite.com/admin/dashboard`
- **ë¡œê·¸ì¸**: `http://yoursite.com/login`
- **íšŒì› ëŒ€ì‹œë³´ë“œ**: `http://yoursite.com/user/dashboard`  
- **ê²Œì‹œíŒ**: `http://yoursite.com/board/{slug}`

### ì²« ë¡œê·¸ì¸

1. `php artisan sitemanager:admin`ìœ¼ë¡œ ìƒì„±í•œ ê³„ì •ìœ¼ë¡œ `/login`ì—ì„œ ë¡œê·¸ì¸
2. ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ `/admin/dashboard` ì ‘ì†
3. ë©”ë‰´, ê²Œì‹œíŒ, íšŒì› ë“±ì„ ì„¤ì •

### ê¶Œí•œ í™•ì¸

```php
// ê²Œì‹œíŒ ê¶Œí•œ í™•ì¸
if (can('write', $board)) {
    // ê¸€ì“°ê¸° ê°€ëŠ¥
}

if (can('read', $board)) {
    // ì½ê¸° ê°€ëŠ¥
}

// ëŒ“ê¸€ ê¶Œí•œ í™•ì¸
if (can('writeComments', $board)) {
    // ëŒ“ê¸€ ì‘ì„± ê°€ëŠ¥
}
```

### ì»¤ìŠ¤í„°ë§ˆì´ì§•

#### ì»¨íŠ¸ë¡¤ëŸ¬ ì˜¤ë²„ë¼ì´ë“œ

```php
// config/sitemanager.php
'customizations' => [
    'controllers' => [
        'board' => App\Http\Controllers\CustomBoardController::class,
    ],
],
```

#### ë·° ì˜¤ë²„ë¼ì´ë“œ

```php
// config/sitemanager.php
'customizations' => [
    'views' => [
        'board_index' => 'custom.board.index',
    ],
],
```

## ì—…ë°ì´íŠ¸

### íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸

```bash
# Private Git Serverì—ì„œ ì—…ë°ì´íŠ¸
composer update d3141cgit/sitemanager

# ìƒˆë¡œìš´ ë§ˆì´ê·¸ë ˆì´ì…˜ì´ ìˆë‹¤ë©´ ì‹¤í–‰
php artisan migrate

# ìƒˆë¡œìš´ ì„¤ì •ì´ë‚˜ ìì›ì´ ì¶”ê°€ë˜ì—ˆë‹¤ë©´ ì¬ë°œí–‰
php artisan vendor:publish --provider="SiteManager\SiteManagerServiceProvider" --force

# ìºì‹œ í´ë¦¬ì–´
php artisan config:clear
php artisan view:clear
php artisan cache:clear
```

### ë²„ì „ ê´€ë¦¬

```bash
# íŠ¹ì • ì»¤ë°‹ìœ¼ë¡œ ì„¤ì¹˜
composer require d3141cgit/sitemanager:dev-main#abc1234

# ìµœì‹  ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸
composer require d3141cgit/sitemanager:dev-main
```

## ë¬¸ì œ í•´ê²°

### ì¼ë°˜ì ì¸ ë¬¸ì œë“¤

1. **ë§ˆì´ê·¸ë ˆì´ì…˜ ì˜¤ë¥˜**: `php artisan migrate:fresh`ë¡œ DB ì´ˆê¸°í™” í›„ ì¬ì„¤ì¹˜
2. **ê¶Œí•œ ë¬¸ì œ**: `storage` ë° `bootstrap/cache` ë””ë ‰í† ë¦¬ ê¶Œí•œ í™•ì¸
3. **CSS/JS ë¡œë“œ ì•ˆë¨**: `php artisan vendor:publish --provider="SiteManager\SiteManagerServiceProvider" --force`
4. **ë¡œê·¸ì¸ ì•ˆë¨**: ê´€ë¦¬ì ê³„ì • ì¬ìƒì„± `php artisan sitemanager:admin`

### ë¡œê·¸ í™•ì¸

```bash
# Laravel ë¡œê·¸ í™•ì¸
tail -f storage/logs/laravel.log

# ë””ë²„ê·¸ ëª¨ë“œ í™œì„±í™” (.env)
APP_DEBUG=true
```

## ê°œë°œ ì›Œí¬í”Œë¡œìš°

### âš ï¸ ì¤‘ìš”: vendor/ ë””ë ‰í† ë¦¬ì—ì„œ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ë§ˆì„¸ìš”!

`vendor/d3141cgit/sitemanager`ì—ì„œ ì§ì ‘ ìˆ˜ì •í•˜ë©´ `composer update` ì‹œ ëª¨ë“  ë³€ê²½ì‚¬í•­ì´ ì‚¬ë¼ì§‘ë‹ˆë‹¤.

### ğŸ“ ì˜¬ë°”ë¥¸ íŒ¨í‚¤ì§€ ìˆ˜ì • ë°©ë²•

#### ë°©ë²• 1: íŒ¨í‚¤ì§€ ê°œë°œ í™˜ê²½ êµ¬ì„± (ê¶Œì¥)

```bash
# 1. íŒ¨í‚¤ì§€ ì†ŒìŠ¤ë¥¼ ë¡œì»¬ì— í´ë¡ 
cd /path/to/your/packages
git clone ssh://miles@server/home/miles/git/sitemanager.git

# 2. í”„ë¡œì íŠ¸ì˜ composer.jsonì— ë¡œì»¬ íŒ¨í‚¤ì§€ ê²½ë¡œ ì„¤ì •
{
    "repositories": [
        {
            "type": "path",
            "url": "/path/to/your/packages/sitemanager",
            "options": {
                "symlink": true
            }
        }
    ],
    "require": {
        "d3141cgit/sitemanager": "*"
    }
}

# 3. íŒ¨í‚¤ì§€ ì¬ì„¤ì¹˜ (ì‹¬ë³¼ë¦­ ë§í¬ë¡œ)
composer remove d3141cgit/sitemanager
composer require d3141cgit/sitemanager --prefer-source
```

ì´ì œ `/path/to/your/packages/sitemanager`ì—ì„œ ìˆ˜ì •í•˜ë©´ í”„ë¡œì íŠ¸ì— ë°”ë¡œ ë°˜ì˜ë©ë‹ˆë‹¤.

#### ë°©ë²• 2: Fork & ê°œë°œ

```bash
# 1. íŒ¨í‚¤ì§€ë¥¼ ë³„ë„ ë””ë ‰í† ë¦¬ì— í´ë¡ 
git clone ssh://miles@server/home/miles/git/sitemanager.git sitemanager-dev
cd sitemanager-dev

# 2. ìˆ˜ì • ì‘ì—… ìˆ˜í–‰
# íŒŒì¼ ìˆ˜ì •...

# 3. ë³€ê²½ì‚¬í•­ ì»¤ë°‹
git add .
git commit -m "Fix: something"
git push origin main

# 4. í”„ë¡œì íŠ¸ì—ì„œ íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸
cd /path/to/your/project
composer update d3141cgit/sitemanager
```

### ğŸ”„ ë³€ê²½ì‚¬í•­ ì„œë²„ ì ìš© ê³¼ì •

#### 1. íŒ¨í‚¤ì§€ ê°œë°œ ë° í…ŒìŠ¤íŠ¸

```bash
# íŒ¨í‚¤ì§€ ê°œë°œ ë””ë ‰í† ë¦¬ì—ì„œ
cd /path/to/packages/sitemanager

# ìˆ˜ì • ì‘ì—… ìˆ˜í–‰
vim src/Http/Controllers/SomeController.php

# í…ŒìŠ¤íŠ¸ (ì—°ê²°ëœ í”„ë¡œì íŠ¸ì—ì„œ ë°”ë¡œ í™•ì¸ ê°€ëŠ¥)
```

#### 2. ë³€ê²½ì‚¬í•­ ì»¤ë°‹ ë° í‘¸ì‹œ

```bash
# íŒ¨í‚¤ì§€ ë””ë ‰í† ë¦¬ì—ì„œ
git add .
git commit -m "Feature: Add new functionality"
git push origin main
```

#### 3. ë‹¤ë¥¸ í”„ë¡œì íŠ¸ë“¤ì— ë°°í¬

```bash
# ê° í”„ë¡œì íŠ¸ì—ì„œ íŒ¨í‚¤ì§€ ì—…ë°ì´íŠ¸
cd /path/to/project1
composer update d3141cgit/sitemanager

cd /path/to/project2  
composer update d3141cgit/sitemanager

# í•„ìš”ì‹œ ìƒˆë¡œìš´ ë§ˆì´ê·¸ë ˆì´ì…˜ì´ë‚˜ ì„¤ì • ë°œí–‰
php artisan migrate
php artisan vendor:publish --provider="SiteManager\SiteManagerServiceProvider" --force
```

### ğŸ› ï¸ ê°œë°œ ì‹œ ìœ ìš©í•œ ëª…ë ¹ì–´

```bash
# íŒ¨í‚¤ì§€ë¥¼ ì‹¬ë³¼ë¦­ ë§í¬ë¡œ ì„¤ì¹˜ (ê°œë°œìš©)
composer require d3141cgit/sitemanager --prefer-source

# íŒ¨í‚¤ì§€ë¥¼ ì‹¤ì œ íŒŒì¼ë¡œ ì„¤ì¹˜ (ìš´ì˜ìš©)
composer require d3141cgit/sitemanager --prefer-dist

# íŠ¹ì • ì»¤ë°‹ìœ¼ë¡œ ì„¤ì¹˜
composer require d3141cgit/sitemanager:dev-main#abc1234

# ìºì‹œ ê°•ì œ ìƒˆë¡œê³ ì¹¨
composer clear-cache
composer update d3141cgit/sitemanager --no-cache
```

### ğŸ”§ ë¡œì»¬ ê°œë°œ í™˜ê²½ ì˜ˆì‹œ

```bash
# ë””ë ‰í† ë¦¬ êµ¬ì¡°
/Users/yourname/
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ sitemanager/          # íŒ¨í‚¤ì§€ ê°œë°œ
â”œâ”€â”€ projects/
â”‚   â”œâ”€â”€ church-site1/         # í”„ë¡œì íŠ¸ 1
â”‚   â”œâ”€â”€ church-site2/         # í”„ë¡œì íŠ¸ 2
â”‚   â””â”€â”€ church-site3/         # í”„ë¡œì íŠ¸ 3

# ê° í”„ë¡œì íŠ¸ì˜ composer.json
{
    "repositories": [
        {
            "type": "path",
            "url": "../packages/sitemanager"
        }
    ]
}
```

ì´ë ‡ê²Œ í•˜ë©´ `packages/sitemanager`ì—ì„œ ìˆ˜ì •í•œ ë‚´ìš©ì´ ëª¨ë“  í”„ë¡œì íŠ¸ì— ë°”ë¡œ ë°˜ì˜ë©ë‹ˆë‹¤!

## ê°œë°œ í™˜ê²½ ì„¤ì •

### SSH í‚¤ ì„¤ì • (Private Git Server ì ‘ì†ìš©)

```bash
# SSH í‚¤ê°€ ì—†ë‹¤ë©´ ìƒì„±
ssh-keygen -t rsa -b 4096 -C "your-email@example.com"

# ê³µê°œí‚¤ë¥¼ ì„œë²„ì— ë“±ë¡
ssh-copy-id miles@server

# ì—°ê²° í…ŒìŠ¤íŠ¸
ssh miles@server
```

## ì˜ì¡´ì„±

- `kalnoy/nestedset` - ê³„ì¸µí˜• ë©”ë‰´ ê´€ë¦¬
- `intervention/image` - ì´ë¯¸ì§€ ì²˜ë¦¬
- `aws/aws-sdk-php` - íŒŒì¼ ì €ì¥ì†Œ (ì„ íƒì )

## ë¼ì´ì„¼ìŠ¤

MIT License

## ì—°ë½ì²˜

- **ê°œë°œì**: Songhyun Dong
- **ì´ë©”ì¼**: d3141c@gmail.com
- **ì €ì¥ì†Œ**: Private Git Server (ssh://miles@server/home/miles/git/sitemanager.git)

## ì§€ì›

ë¬¸ì œê°€ ìˆê±°ë‚˜ ê¸°ëŠ¥ ìš”ì²­ì´ ìˆìœ¼ì‹œë©´ ì´ë©”ì¼ë¡œ ì—°ë½í•´ ì£¼ì„¸ìš”.
